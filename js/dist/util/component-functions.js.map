{"version":3,"file":"component-functions.js","sources":["../../src/util/component-functions.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap util/component-functions.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport SelectorEngine from '../dom/selector-engine.js'\nimport { isDisabled } from './index.js'\n\nconst enableDismissTrigger = (component, method = 'hide') => {\n  const clickEvent = `click.dismiss${component.EVENT_KEY}`\n  const name = component.NAME\n\n  EventHandler.on(document, clickEvent, `[data-bs-dismiss=\"${name}\"]`, function (event) {\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault()\n    }\n\n    if (isDisabled(this)) {\n      return\n    }\n\n    const target = SelectorEngine.getElementFromSelector(this) || this.closest(`.${name}`)\n    const instance = component.getOrCreateInstance(target)\n\n    // Method argument is left, for Alert and only, as it doesn't implement the 'hide' method\n    instance[method]()\n  })\n}\n\nconst getjQueryInterface = (componentClass, options = {}) => {\n  const {\n    // Whether to pass the element (this) as first argument to the method\n    passElement = false,\n    // Function to transform config before passing to getOrCreateInstance\n    configTransform = null\n  } = options\n\n  return function (...args) {\n    return this.each(function () {\n      const config = args[0]\n      const instanceConfig = configTransform ? configTransform(config) : config\n      const data = componentClass.getOrCreateInstance(this, instanceConfig)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      const methodArgs = passElement ? [this, ...args.slice(1)] : args.slice(1)\n      data[config](...methodArgs)\n    })\n  }\n}\n\nexport {\n  enableDismissTrigger,\n  getjQueryInterface\n}\n"],"names":["enableDismissTrigger","component","method","clickEvent","EVENT_KEY","name","NAME","EventHandler","on","document","event","includes","tagName","preventDefault","isDisabled","target","SelectorEngine","getElementFromSelector","closest","instance","getOrCreateInstance","getjQueryInterface","componentClass","options","passElement","configTransform","args","each","config","instanceConfig","data","undefined","startsWith","TypeError","methodArgs","slice"],"mappings":";;;;;;;;;;;EAAA;EACA;EACA;EACA;EACA;EACA;;AAMA,QAAMA,oBAAoB,GAAGA,CAACC,SAAS,EAAEC,MAAM,GAAG,MAAM,KAAK;EAC3D,EAAA,MAAMC,UAAU,GAAG,CAAA,aAAA,EAAgBF,SAAS,CAACG,SAAS,CAAA,CAAE;EACxD,EAAA,MAAMC,IAAI,GAAGJ,SAAS,CAACK,IAAI;EAE3BC,EAAAA,YAAY,CAACC,EAAE,CAACC,QAAQ,EAAEN,UAAU,EAAE,CAAA,kBAAA,EAAqBE,IAAI,CAAA,EAAA,CAAI,EAAE,UAAUK,KAAK,EAAE;EACpF,IAAA,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACC,OAAO,CAAC,EAAE;QACxCF,KAAK,CAACG,cAAc,EAAE;EACxB,IAAA;EAEA,IAAA,IAAIC,mBAAU,CAAC,IAAI,CAAC,EAAE;EACpB,MAAA;EACF,IAAA;EAEA,IAAA,MAAMC,MAAM,GAAGC,cAAc,CAACC,sBAAsB,CAAC,IAAI,CAAC,IAAI,IAAI,CAACC,OAAO,CAAC,CAAA,CAAA,EAAIb,IAAI,EAAE,CAAC;EACtF,IAAA,MAAMc,QAAQ,GAAGlB,SAAS,CAACmB,mBAAmB,CAACL,MAAM,CAAC;;EAEtD;EACAI,IAAAA,QAAQ,CAACjB,MAAM,CAAC,EAAE;EACpB,EAAA,CAAC,CAAC;EACJ;AAEA,QAAMmB,kBAAkB,GAAGA,CAACC,cAAc,EAAEC,OAAO,GAAG,EAAE,KAAK;IAC3D,MAAM;EACJ;EACAC,IAAAA,WAAW,GAAG,KAAK;EACnB;EACAC,IAAAA,eAAe,GAAG;EACpB,GAAC,GAAGF,OAAO;IAEX,OAAO,UAAU,GAAGG,IAAI,EAAE;EACxB,IAAA,OAAO,IAAI,CAACC,IAAI,CAAC,YAAY;EAC3B,MAAA,MAAMC,MAAM,GAAGF,IAAI,CAAC,CAAC,CAAC;QACtB,MAAMG,cAAc,GAAGJ,eAAe,GAAGA,eAAe,CAACG,MAAM,CAAC,GAAGA,MAAM;QACzE,MAAME,IAAI,GAAGR,cAAc,CAACF,mBAAmB,CAAC,IAAI,EAAES,cAAc,CAAC;EAErE,MAAA,IAAI,OAAOD,MAAM,KAAK,QAAQ,EAAE;EAC9B,QAAA;EACF,MAAA;EAEA,MAAA,IAAIE,IAAI,CAACF,MAAM,CAAC,KAAKG,SAAS,IAAIH,MAAM,CAACI,UAAU,CAAC,GAAG,CAAC,IAAIJ,MAAM,KAAK,aAAa,EAAE;EACpF,QAAA,MAAM,IAAIK,SAAS,CAAC,CAAA,iBAAA,EAAoBL,MAAM,GAAG,CAAC;EACpD,MAAA;QAEA,MAAMM,UAAU,GAAGV,WAAW,GAAG,CAAC,IAAI,EAAE,GAAGE,IAAI,CAACS,KAAK,CAAC,CAAC,CAAC,CAAC,GAAGT,IAAI,CAACS,KAAK,CAAC,CAAC,CAAC;EACzEL,MAAAA,IAAI,CAACF,MAAM,CAAC,CAAC,GAAGM,UAAU,CAAC;EAC7B,IAAA,CAAC,CAAC;IACJ,CAAC;EACH;;;;;;;;;;;"}